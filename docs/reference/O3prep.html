<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Identify outliers for different combinations of variables — O3prep • OutliersO3</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Identify outliers for different combinations of variables — O3prep" />
<meta property="og:description" content="Check the dataset and parameters prior to analysis.  Identify outliers for the variable combinations and methods/tolerance levels specified.  Prepare input for the two plotting functions O3plotT and O3plotM." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">OutliersO3</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/DrawingO3plots.html">Drawing O3 (Overview Of Outliers) plots</a>
    </li>
    <li>
      <a href="../articles/MultTolLevels.html">Different outlier tolerance levels for different O3 plots</a>
    </li>
    <li>
      <a href="../articles/PCPsO3.html">Drawing additional parallel coordinate plots to support O3 plots</a>
    </li>
    <li>
      <a href="../articles/xtraO3methods.html">Including results from other outlier identification methods in O3 plots</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Identify outliers for different combinations of variables</h1>
    
    <div class="hidden name"><code>O3prep.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Check the dataset and parameters prior to analysis.  Identify outliers for the variable combinations and methods/tolerance levels specified.  Prepare input for the two plotting functions <code>O3plotT</code> and <code>O3plotM</code>.</p>
    </div>

    <pre class="usage"><span class='fu'>O3prep</span>(<span class='no'>data</span>, <span class='kw'>k1</span><span class='kw'>=</span><span class='fl'>1</span>, <span class='kw'>K</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>ncol</a></span>(<span class='no'>data</span>), <span class='kw'>method</span><span class='kw'>=</span><span class='st'>"HDo"</span>, <span class='kw'>tols</span><span class='kw'>=</span><span class='fl'>0.05</span>, <span class='kw'>boxplotLimits</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>6</span>, <span class='fl'>10</span>, <span class='fl'>12</span>),
       <span class='kw'>tolHDo</span><span class='kw'>=</span><span class='fl'>0.05</span>, <span class='kw'>tolPCS</span><span class='kw'>=</span><span class='fl'>0.01</span>, <span class='kw'>tolBAC</span><span class='kw'>=</span><span class='fl'>0.001</span>, <span class='kw'>toladj</span><span class='kw'>=</span><span class='fl'>0.05</span>, <span class='kw'>tolDDC</span><span class='kw'>=</span><span class='fl'>0.01</span>, <span class='kw'>tolMCD</span><span class='kw'>=</span><span class='fl'>0.000001</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>dataset to be checked for outliers</p></td>
    </tr>
    <tr>
      <th>k1</th>
      <td><p>lowest number of variables in a combination</p></td>
    </tr>
    <tr>
      <th>K</th>
      <td><p>highest number of variables in a combination</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>method(s) used for identifying outliers (up to six can be used)</p></td>
    </tr>
    <tr>
      <th>tols</th>
      <td><p>outlier tolerance level(s) when only one method is specified.  Up to three can be used.  For consistent use of the argument, it is transformed for some of the methods.  See details below of how the argument is applied for each approach.</p></td>
    </tr>
    <tr>
      <th>boxplotLimits</th>
      <td><p>up to three boxplot limits are used (matching the number of tolerance levels), if a method does not apply for finding outliers for a single variable.</p></td>
    </tr>
    <tr>
      <th>tolHDo</th>
      <td><p>an individual outlier tolerance level for the HDoutliers method.  The default in <span class="pkg">HDoutliers</span>, alpha, is 0.05.</p></td>
    </tr>
    <tr>
      <th>tolPCS</th>
      <td><p>an individual outlier tolerance level for the FastPCS method.  This equals (1-alpha) for the argument in <span class="pkg">FastPCS</span>, where the default is 0.5.</p></td>
    </tr>
    <tr>
      <th>tolBAC</th>
      <td><p>an individual outlier tolerance level for the mvBACON method.  The default for alpha in <span class="pkg">robustX</span> is 0.95.  This seems high, but it is divided by n, the dataset size.</p></td>
    </tr>
    <tr>
      <th>toladj</th>
      <td><p>an individual outlier tolerance level for the adjOutlyingness method.  This equals (1-alpha.cutoff) for the argument in <span class="pkg">robustbase</span>, where the default is 0.75.</p></td>
    </tr>
    <tr>
      <th>tolDDC</th>
      <td><p>an individual outlier tolerance level for the DDC method.  This equals (1-tolProb) for the argument in <span class="pkg">cellWise</span>, where the default is 0.99.</p></td>
    </tr>
    <tr>
      <th>tolMCD</th>
      <td><p>an individual outlier tolerance level for the covMcd method.  The default is 0.025 (based on the help page for plot.mcd in <span class="pkg">robustbase</span>). This is NOT the alpha argument in <code class='command'>covMcd</code>, which is used for determining subset size and set to 0.9 in OutliersO3.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>To check outliers for all possible combinations of variables choose k1=1 and K=number of variables in the dataset (the default).</p>
<p>The optional methods are "HDo" <code class='command'>HDoutliers</code> (from  <span class="pkg">HDoutliers</span>), "PCS" <code class='command'>FastPCS</code> (<span class="pkg">FastPCS</span>), "BAC" <code class='command'>mvBACON</code> (<span class="pkg">robustX</span>), "adjOut" <code class='command'>adjOutlyingness</code> (<span class="pkg">robustbase</span>), "DDC" <code class='command'>DDC</code> (<span class="pkg">Cellwise</span>), "MCD" <code class='command'>covMcd</code> (<span class="pkg">robustbase</span>).  References for all these methods can be found on their help pages, linked below.  (Note that <span class="pkg">Cellwise</span> has renamed its function <code class='command'>DetectDeviatingCells</code>.  Since version 2.1.0 <code class='command'>DDC</code> is used instead.)</p>
<p>If only one method is specified, then up to three tolerance levels (tols) and three boxplot limits (boxplotLimits) can be specified.  If more than one method is specified, then the individual tol* parameters are used.</p>
<p><code>tol</code> is the argument determining outlyingness and should be set low, as in <code class='command'>HDoutliers</code> and <code class='command'>mvBACON</code>, where it is called alpha, and in <code class='command'>covMcd</code>.  For the other methods <code>(1-tol)</code> is used.  In <code class='command'>DDC</code> the argument is called tolProb. Using the same tolerance level for all methods does not make them directly comparable, which is why it is recommended to set them individually when drawing a comparative O3 plot.  The defaults suggested on the methods' help pages mostly found too many outliers and so other defaults have been set.  Users need to decide for themselves, possibly dependent on the dataset they are analysing.</p>
<p>Methods "HDo", "mvBACON", "adjOut", and "MCD" can analyse single variables.  For the other methods boxplot limits are used for single variables and any case &gt; (Q3 + boxplotLimit*IQR) or &lt; (Q1 - boxplotLimit*IQR) is classed an outlier, where <code>boxplotLimit</code> is the limit specified.</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p></p>
<dt>data</dt><dd><p>the dataset analysed</p></dd>
  <dt>nw</dt><dd><p>the number of variable combinations analysed</p></dd>
  <dt>mm</dt><dd><p>the outlier methods used</p></dd>
  <dt>tols</dt><dd><p>the individual tolerance levels for the outlier methods used (if more than one), otherwise up to 3 tolerance levels used for one method</p></dd>
  <dt>outList</dt><dd><p>a list for each method/tolerance level, and within that for each variable combination, of the variables used, the indices of cases identified as outliers, and the outlier distances for all cases in the dataset.</p></dd>


    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://rdrr.io/pkg/HDoutliers/man/HDoutliers.html'>HDoutliers</a></code> in <span class="pkg">HDoutliers</span>, <code><a href='https://rdrr.io/pkg/FastPCS/man/FastPCS.html'>FastPCS</a></code> in <span class="pkg">FastPCS</span>, <code><a href='https://rdrr.io/pkg/robustX/man/mvBACON.html'>mvBACON</a></code> in <span class="pkg">robustX</span>, <code><a href='https://rdrr.io/pkg/robustbase/man/adjOutlyingness.html'>adjOutlyingness</a></code> in <span class="pkg">robustbase</span>, <code><a href='https://rdrr.io/pkg/cellWise/man/DDC.html'>DDC</a></code> in <span class="pkg">cellWise</span>, <code><a href='https://rdrr.io/pkg/robustbase/man/covMcd.html'>covMcd</a></code> in <span class="pkg">robustbase</span></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>a0</span> <span class='kw'>&lt;-</span> <span class='fu'>O3prep</span>(<span class='no'>stackloss</span>, <span class='kw'>method</span><span class='kw'>=</span><span class='st'>"PCS"</span>, <span class='kw'>tols</span><span class='kw'>=</span><span class='fl'>0.05</span>, <span class='kw'>boxplotLimits</span><span class='kw'>=</span><span class='fl'>3</span>)

<span class='no'>b0</span> <span class='kw'>&lt;-</span> <span class='fu'>O3prep</span>(<span class='no'>stackloss</span>, <span class='kw'>method</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"BAC"</span>, <span class='st'>"adjOut"</span>), <span class='kw'>k1</span><span class='kw'>=</span><span class='fl'>2</span>, <span class='kw'>tols</span><span class='kw'>=</span><span class='fl'>0.01</span>, <span class='kw'>boxplotLimits</span><span class='kw'>=</span><span class='fl'>6</span>)

<span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='no'>a1</span> <span class='kw'>&lt;-</span> <span class='fu'>O3prep</span>(<span class='no'>stackloss</span>, <span class='kw'>method</span><span class='kw'>=</span><span class='st'>"PCS"</span>, <span class='kw'>tols</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0.1</span>, <span class='fl'>0.05</span>, <span class='fl'>0.01</span>), <span class='kw'>boxplotLimits</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>3</span>, <span class='fl'>6</span>, <span class='fl'>10</span>))

<span class='no'>b1</span> <span class='kw'>&lt;-</span> <span class='fu'>O3prep</span>(<span class='no'>stackloss</span>, <span class='kw'>method</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"HDo"</span>, <span class='st'>"BAC"</span>, <span class='st'>"DDC"</span>), <span class='kw'>tolHDo</span><span class='kw'>=</span><span class='fl'>0.025</span>, <span class='kw'>tolBAC</span><span class='kw'>=</span><span class='fl'>0.01</span>, <span class='kw'>tolDDC</span><span class='kw'>=</span><span class='fl'>0.05</span>)
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Antony Unwin.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


